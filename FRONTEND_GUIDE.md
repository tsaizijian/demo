# 聊天室前端使用指南

## 🚀 快速啟動

### 1. 啟動後端API
```bash
cd /home/jian/Desktop/chatroom_v2/backend
python run.py
```
後端會在 http://localhost:8080 啟動

### 2. 啟動前端開發服務器
```bash
cd /home/jian/Desktop/chatroom_v2/frontend
npm run dev
```
前端會在 http://localhost:3000 啟動

## 📋 已完成的功能

### ✅ 頁面結構
- **首頁** (`/`) - 自動導向登入或聊天室
- **登入頁面** (`/login`) - 使用者登入界面
- **聊天室** (`/chatroom`) - 主聊天界面

### ✅ 核心功能
- **使用者認證** - 登入/登出/狀態管理
- **訊息發送** - 即時發送聊天訊息
- **訊息顯示** - 美觀的聊天界面
- **線上使用者** - 顯示目前線上的使用者
- **個人資料** - 使用者資料管理
- **訊息刪除** - 刪除自己的訊息

### ✅ UI/UX特色
- **響應式設計** - 適配不同螢幕尺寸
- **即時更新** - 自動刷新訊息和線上狀態
- **直覺操作** - 簡潔易用的界面
- **錯誤處理** - 完整的錯誤提示機制

## 🎯 測試流程

### 1. 登入測試
1. 開啟 http://localhost:3000
2. 會自動導向登入頁面
3. 使用測試帳號：
   - 使用者名稱: `jerry`
   - 密碼: `h94y3ru04`
4. 點擊登入

### 2. 聊天室功能測試
1. 登入成功後會導向聊天室
2. 右側顯示線上使用者列表
3. 在下方輸入框輸入訊息並發送
4. 訊息會即時顯示在聊天區域
5. 可以刪除自己發送的訊息

### 3. 多使用者測試
1. 開啟無痕瀏覽器視窗
2. 用另一個帳號登入（如果有的話）
3. 觀察線上使用者數量變化
4. 測試多人聊天功能

## 🛠 技術架構

### 前端技術栈
- **Nuxt 4** - Vue.js全端框架
- **@nuxt/ui** - UI組件庫
- **Pinia** - 狀態管理
- **TypeScript** - 類型安全

### 狀態管理
- **UserStore** - 使用者認證和個人資料
- **ChatStore** - 聊天訊息和線上使用者

### API整合
- 所有API調用都通過Pinia Store處理
- 自動處理JWT Token認證
- 統一錯誤處理機制

## 📁 檔案結構

```
frontend/
├── pages/
│   ├── index.vue          # 首頁（重定向）
│   ├── login.vue          # 登入頁面
│   └── chatroom.vue       # 聊天室主頁
├── stores/
│   ├── user.ts           # 使用者狀態管理
│   └── chat.ts           # 聊天狀態管理
├── middleware/
│   └── auth.ts           # 認證中間件
├── plugins/
│   └── auth.client.ts    # 認證插件
└── nuxt.config.ts        # Nuxt配置
```

## 🔧 配置說明

### API Base URL
在 `nuxt.config.ts` 中配置：
```typescript
runtimeConfig: {
  public: {
    apiBase: 'http://localhost:8080'
  }
}
```

### 認證機制
- JWT Token 儲存在 localStorage
- 自動檢查認證狀態
- Token 過期自動導向登入頁面

## 🐛 常見問題

### 1. 無法連接後端API
- 確認後端服務是否在 http://localhost:8080 運行
- 檢查網路連接和CORS設定

### 2. 登入失敗
- 確認使用正確的測試帳號
- 檢查後端資料庫是否有該使用者

### 3. 頁面無法載入
- 確認前端開發服務器正常運行
- 檢查瀏覽器控制台是否有錯誤訊息

## 🎨 UI組件

使用 @nuxt/ui 提供的組件：
- **UCard** - 卡片容器
- **UInput** - 輸入框
- **UButton** - 按鈕
- **UAlert** - 警告訊息
- **UBadge** - 標籤
- **UDropdown** - 下拉選單
- **UIcon** - 圖標

## 🔮 待實現功能

- [ ] WebSocket 即時通訊
- [ ] 檔案上傳分享
- [ ] 表情符號支援
- [ ] 訊息搜尋
- [ ] 聲音通知
- [ ] 多房間支援

## 💡 開發提示

1. **熱重載** - 修改檔案後會自動重新載入
2. **TypeScript** - 充分利用類型檢查
3. **Vue DevTools** - 使用瀏覽器擴充工具除錯
4. **Pinia DevTools** - 觀察狀態變化

---

**前端基礎頁面已完成！** 🎉

現在你已經有了一個功能完整的聊天室前端界面，支援登入、聊天、線上使用者顯示等核心功能。